<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="franchisee_management_company_form" model="ir.ui.view">
            <field name="name">res.company.form.inherit.franchisee.management</field>
            <field name="model">res.company</field>
            <field name="inherit_id" ref="base.view_company_form"/>
            <field name="arch" type="xml">
                <xpath expr="//div[hasclass('oe_title')]" position="after">
                    <group>
                        <group>
                            <field name="franchisee_unit_template_id" widget="selection" />
                            <field name="primary_distributor_id" widget="selection" domain="['|', ('franchisee_level', 'not in', ['level_2']), ('id', '=', 1)]" />
                        </group>
                    </group>
                </xpath>

                <xpath expr="//page[@name='branches']" position="after">
                    <page string="Franchisee Unit Details" name="franchisee_details" invisible="not franchisee_unit_template_id">
                        <group>
                            <group string="Infrastructure Requirements">
                                <field name="unit_type" />
                                <label for="display_area_req" />
                                <div>
                                    <field class="oe_inline" name="display_area_req" />
                                    <field class="oe_inline" name="display_area_req_deviation_number" decoration-bf="display_area_req_deviation == 0" decoration-success="display_area_req_deviation &gt; 0" decoration-danger="display_area_req_deviation &lt; 0" />
                                    (<field class="oe_inline" name="display_area_req_deviation" widget="percentage" decoration-bf="display_area_req_deviation == 0" decoration-success="display_area_req_deviation &gt; 0" decoration-danger="display_area_req_deviation &lt; 0" />)
                                </div>
                                <label for="warehouse_area_req" />
                                <div>
                                    <field class="oe_inline" name="warehouse_area_req" />
                                    <field class="oe_inline" name="warehouse_area_req_deviation_number" decoration-bf="warehouse_area_req_deviation == 0" decoration-success="warehouse_area_req_deviation &gt; 0" decoration-danger="warehouse_area_req_deviation &lt; 0"/>
                                    (<field class="oe_inline" name="warehouse_area_req_deviation" widget="percentage" decoration-bf="warehouse_area_req_deviation == 0" decoration-success="warehouse_area_req_deviation &gt; 0" decoration-danger="warehouse_area_req_deviation &lt; 0"/>)
                                </div>
                            </group>
                            <group string="Financial Configuration">
                                <label for="proposed_investment" />
                                <div>
                                    <field class="oe_inline me-2" name="proposed_investment"  widget="monetary" options="{'currency_field': 'currency_id', 'field_digits': True}" />
                                    <field class="oe_inline ms-5 ps-5" name="proposed_investment_deviation_number" decoration-bf="proposed_investment_deviation == 0" decoration-success="proposed_investment_deviation &gt; 0" decoration-danger="proposed_investment_deviation &lt; 0"/>
                                    (<field class="oe_inline" name="proposed_investment_deviation" widget="percentage" decoration-bf="proposed_investment_deviation == 0" decoration-success="proposed_investment_deviation &gt; 0" decoration-danger="proposed_investment_deviation &lt; 0"/>)
                                </div>
                                <field name="prop_franchisee_margin" />
                                <field name="franchise_fee" widget="monetary" options="{'currency_field': 'currency_id', 'field_digits': True}" />
                            </group>
                        </group>
                        <group>
                            <group string="Operational Requirements">
                                <field name="no_of_employees_req" />
                                <field name="software_license_req" />
                            </group>
                            <group string="Sales and Inventory">
                                <field name="projected_sales" widget="monetary" options="{'currency_field': 'currency_id', 'field_digits': True}" />
                                <field name="prop_sales_mix_ratio" />
                                <field name="is_inventory" />
                                <field name="franchisee_level" />
                            </group>
                        </group>
                    </page>
                    <page string="Product Portfolios" name="product_portfolios" invisible="(not franchisee_unit_template_id or not primary_distributor_id) or id == 1">
                        <field name="portfolio_ids" domain="[('id', 'in', distributor_portfolio_ids)]">
                            <list create="false">
                                <field name="name" />
                                <field name="categ_id" />
                                <field name="product_categ_id" />
                                <field name="prod_type_categ_id" />
                                <field name="model_id" />
                                <field name="body_type" />
                                <field name="product_size_id" />
                                
                            </list>
                        </field>
                        <field name="distributor_portfolio_ids" invisible="1" />
                    </page>

                    <page string="Products" name="product_products" invisible="(not franchisee_unit_template_id or not primary_distributor_id) or id == 1">
                        <field name="prod_prod_ids" domain="[('portfolio_id', 'in', portfolio_ids), ('id', 'in', distributor_product_ids)]">
                            <list create="false">
                                <field name="name" />
                                <field name="lst_price" />
                            </list>
                        </field>
                        <field name="distributor_product_ids" invisible="1" />
                    </page>
                </xpath>
            </field>
        </record>



        <record id="franchisee_res_partner_form_inherit" model="ir.ui.view">
            <field name="name">franchisee.res.partner.form.inherit</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='industry_id']" position="replace">
                    <field name="trade_type" invisible="not is_company" widget="selection" />
                    <field name="industry_id" invisible="not is_company" options="{'no_create': True}"/>
                </xpath>

                <xpath expr="//page[@name='internal_notes']" position="before">
                    <page name="product_portfolio" string="Portfolio">
                        <field name="product_portfolio_ids">
                            <list>
                                <field name="name" />
                                <field name="categ_id" />
                                <field name="product_categ_id" />
                                <field name="prod_type_categ_id" />
                                <field name="model_id" />
                                <field name="body_type" />
                                <field name="product_size_id" />
                                <field name="portfolio_old_no" />
                                <field name="commitments" />
                            </list>
                        </field>
                    </page>
                    <page name="products" string="Products">
                        <field name="product_supplier_ids" context="{'default_partner_id': id}" nolabel="1">
                            <list  string="Product Information" multi_edit="1" editable="bottom">
                                <field name="product_tmpl_id" string="Product" groups="base.group_multi_company" domain="[('portfolio_id', 'in', product_portfolio_ids)]"/>
                                <field name="product_name" optional="show"/>
                                <field name="product_code" optional="show"/>
                                <field name="date_start" optional="hide"/>
                                <field name="date_end" optional="hide"/>
                                <field name="company_id" readonly="0" optional="hide" groups="base.group_multi_company"/>
                                <field name="min_qty" optional="hide"/>
                                <field name="product_uom" groups="uom.group_uom" optional="show"/>
                                <field name="price" string="Price"/>
                                <field name="discount" optional="hide"/>
                                <field name="currency_id" groups="base.group_multi_currency"/>
                                <field name="vendor_product_quality_id" />
                                <field name="product_portfolio_ids" column_invisible="True" widget="many2many_tags" />
                                <field name="delay" optional="show"/>
                            </list>
                            <form string="Vendor Information">
                                <sheet>
                                    <group>
                                        <group name="vendor" string="Vendor">
                                            <field name="product_variant_count" invisible="1"/>
                                            <field name="partner_id" context="{'res_partner_search_mode': 'supplier'}"/>
                                            <field name="product_name"/>
                                            <field name="product_code"/>
                                            <label for="delay"/>
                                            <div>
                                                <field name="delay" class="oe_inline"/> days
                                            </div>
                                        </group>
                                        <group string="Pricelist">
                                            <field name="product_tmpl_id" string="Product" />
                                            <label for="min_qty"/>
                                            <div class="o_row">
                                                <field name="min_qty"/>
                                                <field name="product_uom" groups="uom.group_uom"/>
                                            </div>
                                            <label for="price" string="Unit Price"/>
                                            <div class="o_row">
                                                <field name="price" class="oe_inline" /><field name="currency_id" groups="base.group_multi_currency"/>
                                            </div>
                                            <field name="vendor_product_quality_id" />
                                            <label for="date_start" string="Validity"/>
                                            <div class="o_row"><field name="date_start" class="oe_inline"/> to <field name="date_end" class="oe_inline"/></div>
                                            <field name="discount"/>
                                            <field name="company_id" options="{'no_create': True}"/>
                                        </group>
                                    </group>
                                </sheet>
                            </form>
                        </field>
                    </page>
                </xpath>

                <xpath expr="//field[@name='category_id']" position="after">
                    <field name="segment" invisible="not is_company" />
                </xpath>
            </field>
        </record>



        <record id="product_supplierinfo_tree_view3" model="ir.ui.view">
            <field name="name">product.supplierinfo.list.view3</field>
            <field name="model">product.supplierinfo</field>
            <field name="inherit_id" ref="purchase.product_supplierinfo_tree_view2"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='product_name']" position="attributes">
                    <attribute name="optional">show</attribute>
                </xpath>
                <xpath expr="//field[@name='product_code']" position="attributes">
                    <attribute name="optional">show</attribute>
                </xpath>
                <xpath expr="//field[@name='product_uom']" position="attributes">
                    <attribute name="optional">show</attribute>
                </xpath>
                <xpath expr="//field[@name='delay']" position="before">
                    <field name="vendor_item_group_id" optional="show"/>
                    <field name="vendor_product_quality_id" optional="show"/>
                </xpath>
            </field>
        </record>

    </data>


</odoo>
